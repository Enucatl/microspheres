$("#menu-close").click(function(t){t.preventDefault(),$("#sidebar-wrapper").toggleClass("active")}),$("#menu-toggle").click(function(t){t.preventDefault(),$("#sidebar-wrapper").toggleClass("active")}),$(function(){$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")||location.hostname==this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html,body").animate({scrollTop:t.offset().top},1e3),!1}})}),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==d3.chart&&(d3.chart={}),d3.chart.BaseChart=function(){function e(){this.draw=t(this.draw,this),null==this.accessors&&(this.accessors={}),this.accessors.width=100,this.accessors.height=100,this.accessors.margin={top:0,right:0,bottom:0,left:0},this.accessors.x_scale=d3.scale.linear(),this.accessors.y_scale=d3.scale.linear(),this.buildAccessors()}return e.prototype.buildAccessors=function(){var t,e,r,a;r=this.accessors,a=[];for(e in r)t=r[e],null==this[e]&&a.push(function(t){return function(e,r){return t[e]=function(t){return arguments.length?(r=t,this):r}}}(this)(e,t));return a},e.prototype.draw=function(t){var e;return e=this,t.each(function(t,r){return e._draw(this,t,r)})},e.prototype._draw=function(){throw"_draw not implemented!"},e}()}.call(this),function(){var t=function(t,r){function a(){this.constructor=t}for(var s in r)e.call(r,s)&&(t[s]=r[s]);return a.prototype=r.prototype,t.prototype=new a,t.__super__=r.prototype,t},e={}.hasOwnProperty;d3.chart.Axes=function(e){function r(){null==this.accessors&&(this.accessors={}),this.accessors.x_axis=d3.svg.axis(),this.accessors.y_axis=d3.svg.axis(),this.accessors.x_title="x",this.accessors.y_title="y",r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype._draw=function(t,e){var r,a,s,n,i,o,c,l,h,u;return n=this.x_scale(),h=this.y_scale(),r=this.x_axis(),o=this.y_axis(),i=this.x_title(),u=this.y_title(),r.scale(n).orient("bottom"),o.scale(h).orient("left"),c=d3.select(t).selectAll(".y.axis").data([e]),c.enter().append("g").classed("y axis",!0),c.call(o),a=d3.select(t).selectAll(".x.axis").data([e]),a.enter().append("g").classed("x axis",!0),a.attr("transform","translate(0, "+h.range()[0]+")").call(r),s=d3.select(t).select(".x.axis").selectAll("text.label").data([e]),s.enter().append("text").classed("label",!0),s.attr("x",n.range()[1]).attr("dy","2.49em").style("text-anchor","end").text(i),s.exit().remove(),l=d3.select(t).select(".y.axis").selectAll("text.label").data([e]),l.enter().append("text").classed("label",!0),l.attr("transform","rotate(-90)").style("text-anchor","end").attr("dy","1em").text(u),l.exit().remove(),a.exit().remove(),c.exit().remove()},r}(d3.chart.BaseChart)}.call(this),function(){var t=function(t,r){function a(){this.constructor=t}for(var s in r)e.call(r,s)&&(t[s]=r[s]);return a.prototype=r.prototype,t.prototype=new a,t.__super__=r.prototype,t},e={}.hasOwnProperty;d3.chart.Image=function(e){function r(){null==this.accessors&&(this.accessors={}),this.accessors.original_width=0,this.accessors.original_height=0,this.accessors.color_value=function(t){return t.name},this.accessors.color_scale=d3.scale.linear(),r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype._draw=function(t,e){var r,a,s,n,i,o,c,l,h,u,p,d,f,g,_,y;for(y=this.width(),c=this.height(),f=this.original_width(),d=this.original_height(),p=this.margin(),n=this.color_value(),s=this.color_scale(),a=d3.select(t).selectAll("canvas").data([e]),o=a.enter().append("canvas"),a.attr("width",f).attr("height",d).style("width",y+"px").style("height",c+"px").style("margin-top",p.top+"px").style("margin-left",p.left+"px").style("margin-bottom",p.bottom+"px").style("margin-right",p.right+"px"),s.range(["white","black"]),i=a.node().getContext("2d"),l=i.createImageData(f,d),g=-1,h=0,u=e.length;u>h;h++)_=e[h],r=d3.rgb(s(n(_))),l.data[++g]=r.r,l.data[++g]=r.g,l.data[++g]=r.b,l.data[++g]=255;return i.imageSmoothingEnabled=!1,i.putImageData(l,0,0)},r}(d3.chart.BaseChart)}.call(this),function(){var t=function(t,r){function a(){this.constructor=t}for(var s in r)e.call(r,s)&&(t[s]=r[s]);return a.prototype=r.prototype,t.prototype=new a,t.__super__=r.prototype,t},e={}.hasOwnProperty;d3.chart.Colorbar=function(e){function r(){null==this.accessors&&(this.accessors={}),this.accessors.color_scale=d3.scale.linear(),this.accessors.orient="vertical",this.accessors.origin={x:0,y:0},this.accessors.barlength=100,this.accessors.barthickness=50,r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype._draw=function(t){var e,r,a,s,n,i,o,c,l,h,u,p,d,f,g,_,y,m,v,x,w,b;return c=this.color_scale(),f=this.margin(),g=this.orient(),_=this.origin(),a=this.barlength(),s=this.barthickness(),n=function(){var t;return t=c.copy(),t.range([0,1]),t.domain([1,10]),Math.abs((t(10)-t(1))/Math.log(10)-(t(10)-t(2))/Math.log(5))<1e-6?"log":Math.abs((t(10)-t(1))/9-(t(10)-t(2))/8)<1e-6?"linear":Math.abs((t(10)-t(1))/(Math.sqrt(10)-1)-(t(10)-t(2))/(Math.sqrt(10)-Math.sqrt(2)))<1e-6?"sqrt":"unknown"},v=n(),"horizontal"===g?(m=[f.left,f.right,f.top,f.bottom],f.top=m[0],f.bottom=m[1],f.left=m[2],f.right=m[3],w="height",d="width",e="bottom",y="x",r="translate (0, "+s+")"):(w="width",d="height",e="right",y="y",r="translate ("+s+", 0)"),x=d3.select(t).selectAll("svg.colorbar").data([_]),u=x.enter().append("svg").classed("colorbar",!0).append("g").classed("colorbar",!0),u.append("g").classed("legend",!0).classed("rect",!0),u.append("g").classed("axis",!0).classed("color",!0),x.attr(w,s+f.left+f.right).attr(d,a+f.top+f.bottom).style("margin-top",_.y-f.top+"px").style("margin-left",_.x-f.left+"px"),b=1e3,l=x.select("g").attr("transform","translate("+f.left+", "+f.top+")"),h=c.copy(),p=d3.range(0,a,a/(h.domain().length-1)),p.push(a),h.range(p.reverse()),o=l.select(".legend.rect").selectAll("rect").data(d3.range(0,a)),o.enter().append("rect").classed("legend",!0).style("opacity",1).style("stroke-thickness",0).transition().duration(b).attr(w,s).attr(d,2).attr(y,function(t){return t}).style("fill",function(t){return c(h.invert(t))}),o.exit().remove(),i=d3.svg.axis().scale(h).orient(e).ticks(5),l.selectAll(".color.axis").attr("transform",r).call(i)},r}(d3.chart.BaseChart)}.call(this),function(){var t=function(t,r){function a(){this.constructor=t}for(var s in r)e.call(r,s)&&(t[s]=r[s]);return a.prototype=r.prototype,t.prototype=new a,t.__super__=r.prototype,t},e={}.hasOwnProperty;d3.chart.Bar=function(e){function r(){null==this.accessors&&(this.accessors={}),this.accessors.x_value=function(t){return t.x},this.accessors.y_value=function(t){return t.y},r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype._draw=function(t,e){var r,a,s,n,i,o,c,l,h,u,p,d;return l=this.width(),i=this.height(),o=this.margin(),u=this.x_value(),d=this.y_value(),h=this.x_scale(),p=this.y_scale(),h.range([0,l]),p.range([i,0]),c=d3.select(t).selectAll("svg").data([e]),n=c.enter().append("svg").append("g"),c.attr("width",l+o.left+o.right).attr("height",i+o.top+o.bottom),s=c.select("g").attr("transform","translate("+o.left+", "+o.top+")"),s.selectAll("g.bars").data([e]).enter().append("g").classed("bars",!0),r=l/e.length,a=s.select("g.bars").selectAll("rect").data(function(t){return t}),a.enter().append("rect").classed("bar",!0),a.attr("x",function(t){return h(u(t))}).attr("y",function(t){return p(d(t))}).attr("width",r).attr("height",function(t){return i-p(d(t))}),a.exit().remove()},r}(d3.chart.BaseChart)}.call(this),function(){var t=function(t,r){function a(){this.constructor=t}for(var s in r)e.call(r,s)&&(t[s]=r[s]);return a.prototype=r.prototype,t.prototype=new a,t.__super__=r.prototype,t},e={}.hasOwnProperty;d3.chart.Scatter=function(e){function r(){null==this.accessors&&(this.accessors={}),this.accessors.radius=3,this.accessors.x_value=function(t){return t.x},this.accessors.y_value=function(t){return t.y},this.accessors.color_value=function(t){return t.name},this.accessors.color_scale=d3.scale.category20(),r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype._draw=function(t,e){var r,a,s,n,i,o,c,l,h,u,p,d,f,g,_;return p=this.width(),c=this.height(),l=this.margin(),h=this.radius(),f=this.x_value(),_=this.y_value(),d=this.x_scale(),g=this.y_scale(),n=this.color_value(),s=this.color_scale(),a=e.map(n).filter(function(t,e,r){return r.indexOf(t===e)}),s.domain(a),d.range([0,p]),g.range([c,0]),u=d3.select(this).selectAll("svg").data([e]),o=u.enter().append("svg").append("g"),u.attr("width",p+l.left+l.right).attr("height",c+l.top+l.bottom),i=u.select("g").attr("transform","translate("+l.left+", "+l.top+")"),i.selectAll(".circles").data([e]).enter().append("g").classed("circles",!0),r=i.select(".circles").selectAll(".circle").data(function(t){return t}),r.enter().append("circle").classed("circle",!0),r.attr("r",h).attr("cx",function(t){return d(f(t))}).attr("cy",function(t){return g(_(t))}).style("fill",function(t){return s(n(t))}),r.exit().remove()},r}(d3.chart.BaseChart)}.call(this),function(){var t=function(t,r){function a(){this.constructor=t}for(var s in r)e.call(r,s)&&(t[s]=r[s]);return a.prototype=r.prototype,t.prototype=new a,t.__super__=r.prototype,t},e={}.hasOwnProperty;d3.chart.Line=function(e){function r(){null==this.accessors&&(this.accessors={}),this.accessors.interpolation="linear",this.accessors.x_value=function(t){return t.x},this.accessors.y_value=function(t){return t.y},this.accessors.color_value=function(t){return t.name},this.accessors.color_scale=d3.scale.category20(),r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype._draw=function(t,e){var r,a,s,n,i,o,c,l,h,u,p,d,f,g,_;return p=this.width(),o=this.height(),h=this.margin(),c=this.interpolation(),f=this.x_value(),_=this.y_value(),d=this.x_scale(),g=this.y_scale(),s=this.color_value(),a=this.color_scale(),r=e.map(s).filter(function(t,e,r){return r.indexOf(t===e)}),a.domain(r),d.range([0,p]),g.range([o,0]),u=d3.select(t).selectAll("svg").data([e]),i=u.enter().append("svg").append("g"),u.attr("width",p+h.left+h.right).attr("height",o+h.top+h.bottom),n=u.select("g").attr("transform","translate("+h.left+", "+h.top+")"),n.selectAll(".paths").data([e]).enter().append("g").classed("paths",!0),l=n.select(".paths").selectAll(".path").data(function(t){return t}),l.enter().append("path").classed("path",!0),l.attr("stroke",function(t){return a(t.name)}).attr("d",function(t){return d3.svg.line().interpolate(c).x(function(t){return d(f(t))}).y(function(t){return g(_(t))})(t.values)}),l.exit().remove()},r}(d3.chart.BaseChart)}.call(this),function(){$(function(){var t;return t="data/S00044_S00063.csv",d3.csv(t,function(t){return{row:parseInt(t.row),pixel:parseInt(t.pixel),absorption:t.A,darkfield:t.B,ratio:t.R}},function(t,e){var r;if(null==t)return r=function(t,r){var a,s,n,i,o,c,l,h,u,p;return c=d3.max(e,function(t){return t.pixel}),o=d3.max(e,function(t){return t.row}),p=$(t).width(),s=.618,n=p*s,i=(new d3.chart.Image).width(p).height(n).original_width(c).original_height(o).color_value(function(t){return t[r]}).margin({bottom:0,left:0,top:0,right:0}),a=(new d3.chart.Colorbar).orient("horizontal").color_scale(i.color_scale()).barlength(i.width()).barthickness(.1*i.height()).margin({bottom:.2*i.height(),left:0,top:0,right:0}),u=e.map(i.color_value()).sort(d3.ascending),h=d3.quantile(u,.05),l=d3.quantile(u,.95),i.color_scale().domain([h,l]).nice(),d3.select(t).datum(e).call(i.draw),d3.select(t).datum([0]).call(a.draw)},r("#absorption-image","absorption"),r("#darkfield-image","darkfield"),r("#ratio-image","ratio")})})}.call(this),function(){$(function(){var t;return t="data/S00044_S00063.csv",d3.csv(t,function(t){return{absorption:t.A,darkfield:t.B,ratio:t.R,visibility:t.v}},function(t,e){var r;if(null==t)return r=function(t,r){var a,s,n,i,o,c,l;return l=$(t).width(),a=.618,s=l*a,n=(new d3.chart.Bar).width(l).height(s).margin({bottom:50,left:50,top:50,right:50}),c=30,n.x_scale().domain([.8*d3.min(e,function(t){return t[r]}),1.2*d3.max(e,function(t){return t[r]})]).nice(),o=d3.layout.histogram().bins(n.x_scale().ticks(c))(e.map(function(t){return t[r]})),n.y_scale().domain([0,1.1*d3.max(o,function(t){return t.y})]),i=(new d3.chart.Axes).x_scale(n.x_scale()).y_scale(n.y_scale()).x_title(r).y_title("#pixels"),d3.select(t).datum(o).call(n.draw),d3.select(t).select("svg").select("g").datum(1).call(i.draw)},r("#absorption-histogram","absorption"),r("#darkfield-histogram","darkfield"),r("#ratio-histogram","ratio"),r("#visibility-histogram","visibility")})})}.call(this);