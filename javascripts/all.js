$("#menu-close").click(function(t){t.preventDefault(),$("#sidebar-wrapper").toggleClass("active")}),$("#menu-toggle").click(function(t){t.preventDefault(),$("#sidebar-wrapper").toggleClass("active")}),$(function(){$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")||location.hostname==this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html,body").animate({scrollTop:t.offset().top},1e3),!1}})}),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==d3.chart&&(d3.chart={}),d3.chart.BaseChart=function(){function e(){this.draw=t(this.draw,this),null==this.accessors&&(this.accessors={}),this.accessors.width=100,this.accessors.height=100,this.accessors.margin={top:0,right:0,bottom:0,left:0},this.accessors.x_scale=d3.scale.linear(),this.accessors.y_scale=d3.scale.linear(),this.buildAccessors()}return e.prototype.buildAccessors=function(){var t,e,r,s;r=this.accessors,s=[];for(e in r)t=r[e],null==this[e]&&s.push(function(t){return function(e,r){return t[e]=function(t){return arguments.length?(r=t,this):r}}}(this)(e,t));return s},e.prototype.draw=function(t){var e;return e=this,t.each(function(t,r){return e._draw(this,t,r)})},e.prototype._draw=function(){throw"_draw not implemented!"},e}()}.call(this),function(){var t=function(t,r){function s(){this.constructor=t}for(var a in r)e.call(r,a)&&(t[a]=r[a]);return s.prototype=r.prototype,t.prototype=new s,t.__super__=r.prototype,t},e={}.hasOwnProperty;d3.chart.Axes=function(e){function r(){null==this.accessors&&(this.accessors={}),this.accessors.x_axis=d3.svg.axis(),this.accessors.y_axis=d3.svg.axis(),this.accessors.x_title="x",this.accessors.y_title="y",r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype._draw=function(t,e){var r,s,a,n,i,c,o,l,h,u;return n=this.x_scale(),h=this.y_scale(),r=this.x_axis(),c=this.y_axis(),i=this.x_title(),u=this.y_title(),r.scale(n).orient("bottom"),c.scale(h).orient("left"),o=d3.select(t).selectAll(".y.axis").data([e]),o.enter().append("g").classed("y axis",!0),o.call(c),s=d3.select(t).selectAll(".x.axis").data([e]),s.enter().append("g").classed("x axis",!0),s.attr("transform","translate(0, "+h.range()[0]+")").call(r),a=d3.select(t).select(".x.axis").selectAll("text.label").data([e]),a.enter().append("text").classed("label",!0),a.attr("x",n.range()[1]).attr("dy","2.49em").style("text-anchor","end").text(i),a.exit().remove(),l=d3.select(t).select(".y.axis").selectAll("text.label").data([e]),l.enter().append("text").classed("label",!0),l.attr("transform","rotate(-90)").style("text-anchor","end").attr("dy","1em").text(u),l.exit().remove(),s.exit().remove(),o.exit().remove()},r}(d3.chart.BaseChart)}.call(this),function(){var t=function(t,r){function s(){this.constructor=t}for(var a in r)e.call(r,a)&&(t[a]=r[a]);return s.prototype=r.prototype,t.prototype=new s,t.__super__=r.prototype,t},e={}.hasOwnProperty;d3.chart.Image=function(e){function r(){null==this.accessors&&(this.accessors={}),this.accessors.original_width=0,this.accessors.original_height=0,this.accessors.color_value=function(t){return t.name},this.accessors.color_scale=d3.scale.linear(),r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype._draw=function(t,e){var r,s,a,n,i,c,o,l,h,u,p,d,f,_,g,y;for(y=this.width(),o=this.height(),f=this.original_width(),d=this.original_height(),p=this.margin(),n=this.color_value(),a=this.color_scale(),s=d3.select(t).selectAll("canvas").data([e]),c=s.enter().append("canvas"),s.attr("width",f).attr("height",d).style("width",y+"px").style("height",o+"px").style("margin-top",p.top+"px").style("margin-left",p.left+"px").style("margin-bottom",p.bottom+"px").style("margin-right",p.right+"px"),a.range(["white","black"]),i=s.node().getContext("2d"),l=i.createImageData(f,d),_=-1,h=0,u=e.length;u>h;h++)g=e[h],r=d3.rgb(a(n(g))),l.data[++_]=r.r,l.data[++_]=r.g,l.data[++_]=r.b,l.data[++_]=255;return i.imageSmoothingEnabled=!1,i.putImageData(l,0,0)},r}(d3.chart.BaseChart)}.call(this),function(){var t=function(t,r){function s(){this.constructor=t}for(var a in r)e.call(r,a)&&(t[a]=r[a]);return s.prototype=r.prototype,t.prototype=new s,t.__super__=r.prototype,t},e={}.hasOwnProperty;d3.chart.Bar=function(e){function r(){null==this.accessors&&(this.accessors={}),this.accessors.x_value=function(t){return t.x},this.accessors.y_value=function(t){return t.y},r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype._draw=function(t,e){var r,s,a,n,i,c,o,l,h,u,p,d;return l=this.width(),i=this.height(),c=this.margin(),u=this.x_value(),d=this.y_value(),h=this.x_scale(),p=this.y_scale(),h.range([0,l]),p.range([i,0]),o=d3.select(t).selectAll("svg").data([e]),n=o.enter().append("svg").append("g"),o.attr("width",l+c.left+c.right).attr("height",i+c.top+c.bottom),a=o.select("g").attr("transform","translate("+c.left+", "+c.top+")"),a.selectAll("g.bars").data([e]).enter().append("g").classed("bars",!0),r=l/e.length,s=a.select("g.bars").selectAll("rect").data(function(t){return t}),s.enter().append("rect").classed("bar",!0),s.attr("x",function(t){return h(u(t))}).attr("y",function(t){return p(d(t))}).attr("width",r).attr("height",function(t){return i-p(d(t))}),s.exit().remove()},r}(d3.chart.BaseChart)}.call(this),function(){var t=function(t,r){function s(){this.constructor=t}for(var a in r)e.call(r,a)&&(t[a]=r[a]);return s.prototype=r.prototype,t.prototype=new s,t.__super__=r.prototype,t},e={}.hasOwnProperty;d3.chart.Scatter=function(e){function r(){null==this.accessors&&(this.accessors={}),this.accessors.radius=3,this.accessors.x_value=function(t){return t.x},this.accessors.y_value=function(t){return t.y},this.accessors.color_value=function(t){return t.name},this.accessors.color_scale=d3.scale.category20(),r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype._draw=function(t,e){var r,s,a,n,i,c,o,l,h,u,p,d,f,_,g;return p=this.width(),o=this.height(),l=this.margin(),h=this.radius(),f=this.x_value(),g=this.y_value(),d=this.x_scale(),_=this.y_scale(),n=this.color_value(),a=this.color_scale(),s=e.map(n).filter(function(t,e,r){return r.indexOf(t===e)}),a.domain(s),d.range([0,p]),_.range([o,0]),u=d3.select(this).selectAll("svg").data([e]),c=u.enter().append("svg").append("g"),u.attr("width",p+l.left+l.right).attr("height",o+l.top+l.bottom),i=u.select("g").attr("transform","translate("+l.left+", "+l.top+")"),i.selectAll(".circles").data([e]).enter().append("g").classed("circles",!0),r=i.select(".circles").selectAll(".circle").data(function(t){return t}),r.enter().append("circle").classed("circle",!0),r.attr("r",h).attr("cx",function(t){return d(f(t))}).attr("cy",function(t){return _(g(t))}).style("fill",function(t){return a(n(t))}),r.exit().remove()},r}(d3.chart.BaseChart)}.call(this),function(){var t=function(t,r){function s(){this.constructor=t}for(var a in r)e.call(r,a)&&(t[a]=r[a]);return s.prototype=r.prototype,t.prototype=new s,t.__super__=r.prototype,t},e={}.hasOwnProperty;d3.chart.Line=function(e){function r(){null==this.accessors&&(this.accessors={}),this.accessors.interpolation="linear",this.accessors.x_value=function(t){return t.x},this.accessors.y_value=function(t){return t.y},this.accessors.color_value=function(t){return t.name},this.accessors.color_scale=d3.scale.category20(),r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype._draw=function(t,e){var r,s,a,n,i,c,o,l,h,u,p,d,f,_,g;return p=this.width(),c=this.height(),h=this.margin(),o=this.interpolation(),f=this.x_value(),g=this.y_value(),d=this.x_scale(),_=this.y_scale(),a=this.color_value(),s=this.color_scale(),r=e.map(a).filter(function(t,e,r){return r.indexOf(t===e)}),s.domain(r),d.range([0,p]),_.range([c,0]),u=d3.select(t).selectAll("svg").data([e]),i=u.enter().append("svg").append("g"),u.attr("width",p+h.left+h.right).attr("height",c+h.top+h.bottom),n=u.select("g").attr("transform","translate("+h.left+", "+h.top+")"),n.selectAll(".paths").data([e]).enter().append("g").classed("paths",!0),l=n.select(".paths").selectAll(".path").data(function(t){return t}),l.enter().append("path").classed("path",!0),l.attr("stroke",function(t){return s(t.name)}).attr("d",function(t){return d3.svg.line().interpolate(o).x(function(t){return d(f(t))}).y(function(t){return _(g(t))})(t.values)}),l.exit().remove()},r}(d3.chart.BaseChart)}.call(this),function(){$(function(){var t,e;return t="data/S00044_S00063.csv",e="#absorption",d3.csv(t,function(t){return{row:parseInt(t.row),pixel:parseInt(t.pixel),absorption:t.A,darkfield:t.B,ratio:t.R}},function(t,r){var s,a,n,i,c,o,l,h,u;if(null==t)return c=d3.max(r,function(t){return t.pixel}),i=d3.max(r,function(t){return t.row}),u=$(e).width(),s=.618,a=u*s,n=(new d3.chart.Image).width(u).height(a).original_width(c).original_height(i).color_value(function(t){return t.absorption}),h=r.map(n.color_value()).sort(d3.ascending),l=d3.quantile(h,.05),o=d3.quantile(h,.95),n.color_scale().domain([l,o]).nice(),d3.select(e).datum(r).call(n.draw)})})}.call(this);